/*  pablo v0.3.4 (2013-10-08) */

/*!
    Pablo <http://pablojs.com>

    by Premasagar Rose <http://premasagar.com>,
       Dharmafly <http://dharmafly.com>

    Repo: <https://github.com/dharmafly/pablo>
    MIT license

*/
!function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){return"string"==typeof a&&h.createElementNS(db,a)||null}function k(b,c){var d,e=b.slice(0,1).toUpperCase()+b.slice(1);return c||(c=a),fb.some(function(a){var f=a?a+e:b;return f in c?(d=f,!0):void 0}),d}function l(a){var b,c,d,e=arguments.length,f=arguments[e-1]===!0;for(a||(a={}),b=1;e>b;b++)if(c=arguments[b],"object"==typeof c)for(d in c)(f||c.hasOwnProperty(d))&&(a[d]=c[d]);return a}function m(a){return Q.slice.call(a)}function n(a){return c.isArray(a)}function o(a){return a&&("object"==typeof a||"function"==typeof a)&&"number"==typeof a.length}function p(a){return a instanceof d}function q(a){return p(a)||s(a)}function r(a){return a instanceof f}function s(a){return a instanceof g}function t(a){return!(!a||a.namespaceURI!==db)}function u(a){return a instanceof e}function v(a){return"string"==typeof a||N(a)||p(a)||r(a)||s(a)||c.isArray(a)||o(a)||t(a)}function w(a,b){return N(a)?b?a.attr(b):a:M(a,b)}function x(a){var b,c,d,e={};if(a)for(b=a.attributes,d=0,c=b.length;c>d;d++)e[b[d].name]=b[d].value;return e}function y(a,b){var c,d,e,f;return t(a)&&0!==b.indexOf("xmlns")?(c=b.indexOf(":"),-1===c?!0:(d=b.slice(0,c),f=M.ns[d]||null,e=b.slice(c+1),[f,e])):!1}function z(a,b){var c=y(a,b);switch(c){case!1:return a.getAttribute(b);case!0:return a.getAttributeNS(null,b);default:return a.getAttributeNS(c[0],c[1])}}function A(a,b,c){var d=y(a,b);switch(d){case!1:return a.setAttribute(b,c);case!0:return a.setAttributeNS(null,b,c);default:return a.setAttributeNS(d[0],d[1],c)}}function B(a,b){var c=y(a,b);switch(c){case!1:return a.removeAttribute(b);case!0:return a.removeAttributeNS(null,b);default:return a.removeAttributeNS(c[0],c[1])}}function C(a,b){var c,d,e,f;if("object"==typeof a){d={},f=function(b){d[b+g]=a[g]};for(var g in a)a.hasOwnProperty(g)&&ab.forEach(f)}else"string"==typeof a&&(c=a,"undefined"==typeof b?d=ab.join(c+",")+c:(e=c+":"+b+";",d=ab.join(e)+e));return d}function D(a,b){var c;a&&(c=b&&v(b),c?a=M(b).find(a):"string"==typeof a&&b&&(a=j(a)),this.add(a),!c&&b&&this.attr(b))}function E(a,b,c){return function(d,e,f,g){var h,i,j;return this.length&&(b===!1?(h=w(d,e),i=this):(h=this,i=w(d,e)),h.each(function(b,c){c&&(j="string"==typeof d&&!v(e),i=j?i.clone(!1):i.clone(!0,f,g)),i.each(function(c){a.call(h,b,c)})})),c===!1?i:this}}function F(a,b){a.appendChild(b)}function G(a,b){a.insertBefore(b,a.firstChild)}function H(a,b){a.parentNode&&a.parentNode.insertBefore(b,a)}function I(a,b){a.parentNode&&a.parentNode.insertBefore(b,a.nextSibling)}function J(a,b){return function(c){return this.traverse(a,b,c)}}function K(a){return function(b,c){return this.matches(a,b,c)}}function L(a,b){return function(c){return 1===this.length?a(b?this:this[0]):c?this.some(a):this.every(a)}}function M(a,b){return new D(a,b)}function N(a){return a instanceof M.Collection}var O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb="0.3.4",cb=1.1,db="http://www.w3.org/2000/svg",eb="http://www.w3.org/1999/xlink",fb=["","moz","webkit","khtml","o","ms"],gb="a altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph mpath path pattern polygon polyline radialGradient rect script set stop style svg switch symbol text textPath title tref tspan use view vkern",hb="pablo-data",ib="__events__";return h&&(P="createElementNS"in h&&j("svg"),O=h.head||h.getElementsByTagName("head")[0],Q=c&&c.prototype,X=k("matches",P)||k("matchesSelector",P)),P&&O&&Q&&X&&d&&e&&f&&g&&"createSVGRect"in P&&"attributes"in P&&"querySelectorAll"in P&&"previousElementSibling"in P&&"childNodes"in P&&"create"in b&&"keys"in b&&"isArray"in c&&"forEach"in Q&&"map"in Q&&"some"in Q&&"every"in Q&&"filter"in Q&&"DOMParser"in a&&"XMLSerializer"in a?(R=function(){var b="getContext"in h.createElement("canvas"),c="btoa"in a,d=c;return{basic:!0,classList:"classList"in P,dataUrl:c,imageSvg:d,canvas:d&&b,download:c&&"createEvent"in h&&"download"in h.createElement("a")}}(),ab=fb.map(function(a){return a?"-"+a+"-":""}),S=function(){var a=/-([a-z])/g;return function(b){return b.replace(a,function(a,b){return b.toUpperCase()})}}(),T=function(){var a=/[A-Z]/g;return function(b){return b.replace(a,function(a){return"-"+a.toLowerCase()})}}(),U=function(){var b,c,d;return function(e){var f,g;return b||(b=new a.DOMParser,d="</svg>",c=M.svg().append(M.g()).markup().replace(/<g.*/,"")),e=c+e+d,f=b.parseFromString(e,"application/xml"),g=M(f.documentElement.childNodes),g.detach()}}(),V={},W=1,$=D.prototype=[],l($,{constructor:D,pablo:bb,collection:null,toArray:function(){return m(this)},size:function(){return this.length},get:function(a){return this[a]},eq:function(a){return a>=0?M(this[a]):-1>a?this.slice(a,a+1):this.slice(a)},first:function(){return this.eq(0)},last:function(){return this.eq(this.length-1)},add:function(){var a=/^\s*</;return function(){var b,d,e,f,g=arguments,i=g.length,k=!1;for(i>1&&"boolean"==typeof g[i-1]&&(k=g[i-1],i-=1,k&&(g=Q.slice.call(g,0,i).reverse())),f=0;i>f;f++)if(b=g[f],p(b)||s(b)||t(b)?-1===Q.indexOf.call(this,b)&&Q[k?"unshift":"push"].call(this,b):N(b)?(b=m(b.collection||b),d=b.collection||b):"string"==typeof b?d=a.test(b)?U(b):h.querySelectorAll(b):(r(b)||o(b))&&(d=b),d||c.isArray(b)){for(d&&(b=m(d));b.length;)e=k?b.pop():b.shift(),"string"==typeof e&&(e=j(e)),this.add(e,k);d=null}return this}}(),concat:function(){return this.add.apply(M(this),arguments)},unshift:function(){var a=m(arguments);return a.push(!0),this.add.apply(this,a)},pop:function(){return M(Q.pop.call(this))},shift:function(){return M(Q.shift.call(this))},slice:function(a,b){return M(Q.slice.call(this,a,b))},reverse:function(){return Q.reverse.call(this),this},sort:function(a){return Q.sort.call(this,a),this},each:function(a,b){return this.length&&(1===this.length?a.call(b||this,this[0],0):Q.forEach.call(this,a,b||this)),this},map:function(a,b){return M(Q.map.call(this,a,b||this))},traverse:function(a,b,c){var d=M(),e="function"==typeof b;return this.each(function(c,f){for(c=c[a];c&&(e?b.call(this,c,f):!0);)d.add(c),c=b?c[a]:!1}),c?d.select(c):d},detach:function(){return this.each(function(a){var b=a.parentNode;b&&b.removeChild(a)})},remove:function(){return b.keys(V).length&&this.removeData().find("*").removeData(),this.detach()},empty:function(){return b.keys(V).length&&this.find("*").removeData(),this.each(function(a){for(;a.firstChild;)a.removeChild(a.firstChild)})},clone:function(a,b,c){var d=1===this.length;return"boolean"!=typeof a&&(a=!0),"boolean"!=typeof b&&(b=!1),"boolean"!=typeof c&&(c=b),this.map(function(e){var f,g,h,i,j=e.cloneNode(a);return b&&(g=d?this:M(e),f=g.cloneData(),f&&(h=M(j).data(f))),a&&c&&(h||(h=M(j)),i=g.pluckData(),h.find("*").data(i)),j})},duplicate:function(a,b,c){var d;if(0!==a){for(("number"!=typeof a||0>a)&&(a=1),b&&(b=this.hasData()),c&&(c=this.find("*").hasData()),d=M();a--;)d.add(this.clone(!0,b,c));this.after(d).add(d)}return this},getValue:function(a,b){return c.isArray(a)?(b%=a.length,a=a[b]):"function"==typeof a&&(a=a.call(this,this[b],b)),a},attr:function(a,b){var c,d;if("undefined"==typeof a)return x(this[0]);if("string"==typeof a){if("undefined"==typeof b)return c=this[0],c&&z(c,a);if(!this.length)return this;if(1===this.length)return A(this[0],a,this.getValue(b,0)),this;d={},d[a]=b}else d=a;return this.each(function(a,b){var c,e;for(c in d)d.hasOwnProperty(c)&&(e=d[c],A(a,c,this.getValue(e,b)))})},pluck:function(a,b){var c;return b||(b="attr"),null===a&&(a=c),m(this).map(function(c){switch(b){case"attr":return M(c).attr(a);case"prop":return c[a];case"data":return M(c).data(a);case"css":return M(c).css(a);case"cssPrefix":return M(c).cssPrefix(a)}})},pluckData:function(){return this.pluck(null,"data")},transform:function(a,b){var c=1===this.length;return arguments.length>2&&(b=m(arguments).slice(1).join(" ")),this.each(function(d,e){var f,g,h,i,j=c?this:M(d),k=j.attr("transform"),l=a+"("+this.getValue(b,e)+")";k&&(g=(" "+k).indexOf(" "+a+"("),g>=0?(i=k.slice(g),h=i.indexOf(")"),f=k.slice(0,g)+l+i.slice(h+1)):f=k+" "+l),j.attr("transform",f||l)},this)},removeAttr:function(a){return 1===this.length?B(this[0],a):this.length>1&&this.each(function(b){B(b,a)}),this},content:function(a){var b;return"undefined"==typeof a?(b=this[0],b&&b.textContent||""):this.each(function(b,c){b.textContent=this.getValue(a,c)},this)},css:function(a,b){var c,d;if("string"==typeof a){if("undefined"==typeof b)return c=this[0],c&&"style"in c&&c.style.getPropertyValue(a);d=a,a={},a[d]=b}return this.each(function(b,c){var d,e,f=b.style;for(d in a)a.hasOwnProperty(d)&&(e=this.getValue(a[d],c),f.setProperty(d,e,""))},this)},cssPrefix:function(a,b){var c;if("string"==typeof a){if("undefined"==typeof b)return C(a).split(",").some(function(a){return b=this.css(a)},this),b;c=a,a={},a[c]=b}return this.css(C(a))},load:function(a,b,c){var d=this;return this.length&&M.load(a,function(a){this.length&&(c&&d.empty(),d.append(this)),b&&b.call(d,this,a)}),this},toSingleSvg:function(){return 1===this.length&&"svg"===this[0].nodeName?this:M.svg().append(this)},bbox:function(){var a,b,c,d,e,f,g=this.isInDocument();return this.length?(g?1===this.length?a=this[0].getBBox():(c=1/0,d=1/0,e=0,f=0,this.each(function(a){var b=a.getBBox();b.x<c&&(c=b.x),b.y<d&&(d=b.y),b.x+b.width>e&&(e=b.x+b.width),b.y+b.height>f&&(f=b.y+b.height)}),a={x:c,y:d,width:e,height:f}):1===this.length&&"svg"===this[0].nodeName?(this.appendTo(h.body),a=this.bbox(),this.detach()):(b=M.svg().append(this.clone()).appendTo(h.body),a=b.children().bbox(),b.detach()),a):{x:0,y:0,width:0,height:0}},crop:function(a){return this.each(function(b){var c,d;"svg"===b.nodeName&&(c=M(b),d=a?N(a)?M.svg().append(a.clone()).bbox():a:c.bbox(),c.removeAttr("width").removeAttr("height"),c.attr({width:d.width,height:d.height,viewBox:d.x+" "+d.y+" "+d.width+" "+d.height}))})},markup:function(){var b;return function(c){var d,e=this;return b||(b=new a.XMLSerializer),c&&(e=this.clone().toSingleSvg()),1===e.length?b.serializeToString(e[0]):(d="",e.each(function(a){d+=b.serializeToString(a)}),d)}}(),dataUrl:function(){return R.dataUrl?function(){var b,c;return b=1===this.length&&"svg"===this[0].nodeName?this:this.clone().toSingleSvg().crop(),c=b.markup(),"data:image/svg+xml;base64,"+a.btoa(c)}:function(){}}(),toCanvas:function(a){var b,c=this.toImage(),d=!a;return a||(a=h.createElement("canvas")),a=w(a),b=a[0].getContext("2d"),c.css({visibility:"hidden",position:"absolute",top:"-99999px"}).appendTo("body"),c.one("load",function(){var e=this.width,f=this.height;d&&a.attr({width:e,height:f}),b.drawImage(this,0,0,e,f),c.detach(),a.trigger("img:load")}),a},toImage:function(a){var b=h.createElement("img"),c=M(b);return a&&"svg"!==a?this.toCanvas().one("img:load",function(){try{c.attr({src:this.toDataURL("image/"+a),width:this.width,height:this.height})}catch(b){c.trigger("pablo:error")}}):(c.one("load",function(){c.attr({width:b.width,height:b.height})}),b.src=this.dataUrl()),c},download:function(b){var c,d=M(h.createElement("a")),e=(this.markup(this),this.dataUrl());return d.attr("href",e),R.download&&(d.attr("download",b||"pablo.svg"),c=h.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a,1,0,0,0,0,!1,!1,!1,!1,0,null),d[0].dispatchEvent(c)),d}}),function(){function a(a,c){var d,e=a[hb];c?(d=V[e],d&&(b.keys(d).length>1?delete V[e][c]:(delete V[e],delete a[hb]))):delete V[e]}l($,{data:function(a,b){var c,d;if("object"==typeof a)d=this.getValue(a);else{if("undefined"==typeof b){if(this.length&&(c=this[0][hb],c&&c in V))return"undefined"==typeof a?V[c]:V[c][a];return}d={},d[a]=b}return this.length||Q.push.call(this,{}),this.each(function(a){var b=a[hb];b||(b=a[hb]=W++),V[b]||(V[b]={}),l(V[b],d)})},removeData:function(b){return this.each(function(c){b?this.processList(b,function(b){a(c,b)}):a(c)})},hasData:function(a,c){return b.keys(V).length>0&&this.some(function(b){var d,e;return c!==!1&&(d=!!b[hb]),a&&!d&&(e=M(b).find("*").hasData()),d||e})},cloneData:function(){var a,c,d,e=this.data();if(e&&(a=e[ib])){e=b.create(e),c=e[ib]=b.create(a);for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d].slice())}return e},matches:function(a,b,c){var d,e;if("function"==typeof b)switch(c||(c=this),a){case"indexOf":return d=-1,Q.some.call(this,function(a,e){return b.call(c,a,e,this)?(d=e,!0):void 0},c),d;case"select":return e=M(),Q.filter.call(this,function(a,d){b.call(c,a,d,this)&&e.add(a)},c),e;default:return Q[a].call(this,b,c)}return"string"==typeof b?this.matches(a,function(a){return a[X](b)}):(b=w(b),this.matches(a,function(a){return b.some(function(b){return a===b})}))}})}(),Y={on:function(a,b,c,d,e){var f,g,h;return"function"!=typeof c&&"function"==typeof b&&(e=d,d=c,c=b,b=null),"undefined"==typeof d&&(d=!1),this.length||Q.push.call(this,{}),g=e?function(){c.apply(e,arguments)}:c,f=1===this.length,this.processList(a,function(a){this.each(function(i,j){var k,l=f?this:M(i),m=l.data(ib);m||(m={},l.data(ib,m)),k=m[a],k||(k=m[a]=[]),b&&(g=function(a){a&&!a.pablo&&M(a.target).some(b,e)&&c.apply(e||i,arguments)}),(b||!j)&&(h={selectors:b,listener:c,wrapper:g||c,useCapture:d}),k.push(h),"addEventListener"in i&&i.addEventListener(a,g||c,d)})})},off:function(a,c,d,e){var f=1===this.length;return"function"==typeof c&&(e=d,d=c,c=null),"undefined"==typeof e&&(e=!1),this.processList(a,function(a){this.each(function(g){var h,i,j=f?this:M(g),k=j.data(ib);if(k)if(a)h=k[a],h&&h.length&&(h.some(function(b,f){return(d!==b.listener||e!==b.useCapture||c!==b.selectors)&&(d||c&&c!==b.selectors)||("removeEventListener"in g&&g.removeEventListener(a,b.wrapper,b.useCapture),!d)?void 0:(delete h[f],!0)}),d&&b.keys(k[a]).length||delete k[a],b.keys(k).length||j.removeData(ib));else for(i in k)k.hasOwnProperty(i)&&j.off(i)})})},one:function(a,b,c,d,e){function f(){g.off(a,b,c,d,e).off(a,b,f,d,e)}var g=this;return"function"==typeof b&&(e=d,d=c,c=b,b=null),this.on(a,b,c,d,e).on(a,b,f,d,e)},oneEach:function(){var a=arguments,b=1===this.length;return this.each(function(c){var d=b?this:M(c);d.one.apply(d,a)})},trigger:function(){function a(a,b,c){var d=M.fn.data.call(a,ib),e=a[0]||a;d&&a.processList(b,function(a){var b=d[a];b&&(c[0]={pablo:!0,type:a,target:e},b.forEach(function(a){a.wrapper.apply(e,c)}))})}return function(b){var c=m(arguments);return this.processList(b,function(b){"undefined"==typeof this.length||1===this.length?a(this,b,c):this.length>1&&this.forEach(function(d){a(M(d),b,c)})})}}(),processList:function(a,b){var c=this;return a&&a.indexOf(" ")>0?a.split(" ").forEach(function(a){c.processList(a,b)}):b.call(this,a),this}},l($,Y),l($,{indexOf:K("indexOf"),some:K("some"),every:K("every"),select:K("select"),child:E(F,!0,!1),append:E(F),appendTo:E(F,!1),prepend:E(G),prependTo:E(G,!1),before:E(H),insertBefore:E(H,!1),after:E(I),insertAfter:E(I,!1),children:J("childNodes"),firstChild:J("firstElementChild"),lastChild:J("lastElementChild"),prev:J("previousElementSibling"),prevSiblings:J("previousElementSibling",!0),next:J("nextElementSibling"),nextSiblings:J("nextElementSibling",!0),parent:J("parentNode"),parents:J("parentNode",p),parentsSvg:J("parentNode",u),viewport:J("viewportElement"),viewports:J("viewportElement",!0),owner:function(a){try{return this.traverse("ownerSVGElement",!1,a)}catch(b){return M()}},owners:function(a){try{return this.traverse("ownerSVGElement",!0,a)}catch(b){return M()}},ancestor:function(){return this.traverse("parentNode",q).last()},root:function(a){return this.map(function(b){var c=1===this.length?this:M(b);return c.owners(a).last()})},siblings:function(a){return this.prevSiblings(a).add(this.nextSiblings(a))},find:function(a){return this.map(function(b){return b.querySelectorAll(a)})}}),l($,{isInDocument:L(function(a){return 1===w(a).parents(h.body).length},!0),isRoot:L(function(a){return"svg"===a.nodeName&&!a.ownerSVGElement}),hasSvgNamespace:L(function(a){return t(a)})}),l($,{elements:$.toArray,push:$.add,forEach:$.each,is:$.some,lastIndexOf:$.indexOf}),R.classList?(_=function(a){return function(b){return this.each(function(c,d){var e=this.getValue(b,d);this.processList(e,function(b){c.classList[a](b)})},this)}},Z={hasClass:function(a){return this.some(function(b,c){var d=this.getValue(a,c);return b.classList.contains(d)},this)},addClass:_("add"),removeClass:_("remove"),toggleClass:_("toggle")}):Z={hasClass:function(a){var b=1===this.length;return this.some(function(c,d){var e=b?this:M(c),f=this.getValue(a,d),g=e.attr("class");return g&&(" "+g+" ").indexOf(" "+f+" ")>=0},this)},addClass:function(a){var b=1===this.length;return this.each(function(c,d){var e,f=b?this:M(c),g=this.getValue(a,d);this.processList(g,function(a){f.hasClass(a)||(e=f.attr("class"),e=e?e+" ":"",f.attr("class",e+a))})})},removeClass:function(a){var b=1===this.length;return this.each(function(c,d){var e=b?this:M(c),f=this.getValue(a,d);this.processList(f,function(a){var b,c=new RegExp("(?:^|\\s)"+a+"(\\s|$)");e.hasClass(a)&&(b=e.attr("class"),b=b.replace(c,"$1"),e.attr("class",b))})})},toggleClass:function(a){var b=1===this.length;return this.each(function(c,d){var e=b?this:M(c),f=this.getValue(a,d);this.processList(f,function(a){e.hasClass(a)?e.removeClass(a):e.addClass(a)})})}},l($,Z),l(M,{v:bb,isSupported:!0,support:R,ns:{svg:db,xlink:eb},svgVersion:cb,Collection:D,Events:Y,fn:$,make:j,isArray:n,isArrayLike:o,isElement:p,isSVGElement:u,hasSvgNamespace:t,isNodeList:r,isHTMLDocument:s,isPablo:N,extend:l,toArray:m,getAttributes:x,getAttribute:z,setAttribute:A,removeAttribute:B,canBeWrapped:v,hyphensToCamelCase:S,camelCaseToHyphens:T,vendorPrefixes:fb,svgElementNames:gb,cssPrefixes:ab,getPrefixedProperty:k,cssPrefix:C,cache:V,template:function(a,b){return M[a]=function(){return b.apply(null,arguments)},$[a]=function(){var b=arguments;return this.map(function(c){return M[a].apply(c,b).appendTo(c)})},this},get:function(a,b){var c;return i&&(c=new i,c.onload=function(){b(this.responseText,this)},c.open("get",a,!0),c.send()),this},load:function(a,b){var c=M();return this.get(a,function(a,d){c.add(d.responseXML&&d.responseXML.childNodes),b.call(c,d)}),c}}),gb.split(" ").forEach(function(a){var c=S(a),d=function(b){return M(j(a),b)};"svg"===a&&(d=function(c){return c=l(c,{version:cb,xmlns:db}),b.keys(M.ns).forEach(function(a){"svg"!==a&&(c["xmlns:"+a]=M.ns[a])}),M(j(a),c)}),M.template(a,d),M[c]=M[a],$[c]=$[a]}),a.Pablo=M,void 0):(a.Pablo={v:bb,isSupported:!1},void 0)}(this,this.Object,this.Array,this.Element,this.SVGElement,this.NodeList,this.HTMLDocument,this.document,this.XMLHttpRequest);
//# sourceMappingURL=pablo.min.map